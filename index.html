<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Para√≠so FM 101,1 - Sobral</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EF42RBHES1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-EF42RBHES1');
  </script>

  <!-- Open Graph / WhatsApp / Twitter Card -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="üìª Para√≠so FM 101,1 - Sobral">
  <meta property="og:description" content="Para√≠so FM de Sobral Ao vivo - Informa√ß√£o e entretenimento em um s√≥ lugar.">
  <meta property="og:image" content="https://rivaldrss.github.io/paraiso_aovivo/turbinal_paraiso.png?v=2">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="1200">
  <meta property="og:url" content="https://rivaldrss.github.io/paraiso_aovivo/">
  <meta property="og:site_name" content="Para√≠so FM Sobral">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="üìª Para√≠so FM 101,1 - Sobral">
  <meta name="twitter:description" content="Para√≠so FM de Sobral Ao vivo - Informa√ß√£o e entretenimento em um s√≥ lugar.">
  <meta name="twitter:image" content="https://rivaldrss.github.io/paraiso_aovivo/turbinal_paraiso.png?v=2">

  <!-- Optional: custom WhatsApp tag for internal use (not read by WhatsApp) -->
  <meta name="whatsapp:preview" content="https://rivaldrss.github.io/paraiso_aovivo/turbinal_paraiso.png?v=2">
<!-- Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1e90ff">

<!-- iOS suporte -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Para√≠so FM">
<link rel="apple-touch-icon" href="icone-192.png">
  <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js")
    .then(() => console.log("Service Worker registrado."))
    .catch((err) => console.error("Erro no Service Worker:", err));
}
</script>

  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:Arial,sans-serif;background:url('https://rivaldrss.github.io/paraiso_aovivo/turbinal_paraiso.png') no-repeat center center fixed;background-size:cover;display:flex;justify-content:center;align-items:center;min-height:100vh;position:relative;color:#fff;}
    body::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background: rgba(0,0,0,0.3);z-index:0;}
    .player-card{position: relative; z-index:2; background: rgba(0,0,0,0.60); border-radius:20px; padding:25px 20px; max-width:480px; width:92%; text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.7);}
    .player-card header img{width:90px; border-radius:50%; border:2px solid #fff; margin-bottom:10px; display:block; margin-left:auto;margin-right:auto;}
    .player-card header h1{font-size:20px;margin-bottom:10px;text-shadow:1px 1px 5px rgba(0,0,0,0.7);}
    .player-container{background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); border-radius:12px; padding:10px; display:flex; align-items:center; gap:12px; box-shadow:0 5px 12px rgba(0,0,0,0.5); margin-bottom:12px;}
    .btn{background: rgba(255,255,255,0.12); border:none; color:#fff; font-size:18px; border-radius:8px; width:48px; height:36px; cursor:pointer; transition: transform .15s, background .15s; display:inline-flex; align-items:center; justify-content:center;}
    .btn:hover{transform:scale(1.05); background:rgba(255,255,255,0.18);}
    .volume{flex:1;}
    .volume input[type="range"]{width:100%; cursor:pointer;}
    .status,.programacao{font-size:13px; opacity:0.95; margin-top:6px; text-align:left;}
    .social{display:flex; justify-content:center; gap:12px; margin:14px 0 10px; align-items:center;}
    .social a{display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:9px; background: rgba(255,255,255,0.03); text-decoration:none; transition: transform .15s, background .15s; z-index:3; color: inherit; border:1px solid rgba(255,255,255,0.04);}
    .social a:hover{transform: translateY(-3px); background: rgba(255,255,255,0.06);}
    .social a.instagram{color:#E1306C;}
    .social a.whatsapp{color:#25D366;}
    .social a.youtube{color:#FF0000;}
    .social a.site{color:#1E90FF;}
    .social svg{width:20px; height:20px; display:block;}
    footer{font-size:12px; opacity:0.8; margin-top:6px;}

    /* Estilos do Carrossel */
    .carrossel-container {
      margin: 15px 0;
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      min-height: 120px;
    }

    .carrossel {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .slide {
      min-width: 100%;
      padding: 15px;
      background: rgba(255,255,255,0.05);
    }

    .slide h3 {
      font-size: 16px;
      margin-bottom: 8px;
      color: #fff;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    }

    .slide p {
      font-size: 13px;
      line-height: 1.4;
      margin-bottom: 10px;
      opacity: 0.9;
    }

    .slide a {
      display: inline-block;
      background: rgba(30, 144, 255, 0.7);
      color: white;
      padding: 6px 12px;
      text-decoration: none;
      border-radius: 6px;
      font-size: 12px;
      transition: background 0.3s;
    }

    .slide a:hover {
      background: rgba(30, 144, 255, 0.9);
    }

    .controles {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      padding: 0 10px;
    }

    .controles button {
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s;
    }

    .controles button:hover {
      background: rgba(0,0,0,0.7);
    }

    .indicadores {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 10px;
    }

    .indicador {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      cursor: pointer;
      transition: background 0.3s;
    }

    .indicador.ativo {
      background: #1E90FF;
    }

    .carregando {
      text-align: center;
      padding: 30px 15px;
      color: rgba(255,255,255,0.7);
      font-size: 14px;
    }

    .erro {
      text-align: center;
      padding: 20px 15px;
      color: #ff6b6b;
      font-size: 14px;
      background: rgba(255,107,107,0.1);
      border-radius: 8px;
      margin: 10px;
    }

    @media (max-width:480px){
      .player-card{padding:18px 12px;} 
      .player-card header img{width:76px;} 
      .social a{width:40px;height:40px;}
      .slide { padding: 12px; }
      .slide h3 { font-size: 15px; }
      .slide p { font-size: 12px; }
    }
  </style>
</head>
<body>
  <div class="player-card">
    <header>
      <img src="https://img.radios.com.br/radio/lg/radio14228_1674649732.jpeg" alt="Logo da R√°dio">
      <h1>Para√≠so FM 101,1 - Sobral</h1>
    </header>

    <div class="player-container">
      <button class="btn" id="playPause">‚ñ∂Ô∏è</button>
      <div class="volume">
        <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="1" aria-label="Volume">
      </div>
      <div style="min-width:110px; text-align:right;">
        <div class="status" id="status">Conectando...</div>
      </div>
    </div>

    <div class="programacao" id="programacao">üéôÔ∏è Programa atual: Carregando...</div>

    <!-- Carrossel de Not√≠cias -->
    <div class="carrossel-container">
      <div class="carrossel" id="carrossel">
        <div class="carregando">Carregando not√≠cias...</div>
      </div>
      
      <div class="controles">
        <button id="prevBtn">&#10094;</button>
        <button id="nextBtn">&#10095;</button>
      </div>
      
      <div class="indicadores" id="indicadores">
        <!-- Indicadores ser√£o inseridos aqui -->
      </div>
    </div>

    <div class="social">
      <a class="instagram" href="https://www.instagram.com/sistemaparaiso" target="_blank" aria-label="Instagram">
        <!-- Instagram Icon -->
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm10 2c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654-1.346-3-3-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm4.5-.75a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z"/></svg>
      </a>
      <a class="whatsapp" href="https://wa.me/5588999834349" target="_blank" aria-label="WhatsApp">
        <!-- WhatsApp Icon -->
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M.057 24l1.687-6.163A11.94 11.94 0 0112.02 0c6.627 0 12 5.373 12 12 0 6.627-5.373 12-12 12-2.042 0-3.953-.495-5.657-1.367L.057 24zM6.68 19.427c1.676.995 3.276 1.591 5.38 1.591 5.448 0 9.886-4.438 9.886-9.886 0-5.448-4.438-9.886-9.886-9.886-5.449 0-9.887 4.438-9.887 9.886 0 2.109.697 3.647 1.822 5.428L3.6 20.4l3.08-.973zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.471-.149-.67.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.149-.669-1.611-.916-2.206-.242-.579-.487-.5-.67-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479s1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.077 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413z"/></svg>
      </a>
      <a class="youtube" href="https://www.youtube.com/@paraisofmsobral" target="_blank" aria-label="YouTube">
        <!-- YouTube Icon -->
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M23.498 6.186a2.974 2.974 0 00-2.096-2.106C19.458 3.5 12 3.5 12 3.5s-7.458 0-9.402.58a2.974 2.974 0 00-2.096 2.106A31.533 31.533 0 000 12a31.533 31.533 0 00.502 5.814 2.974 2.974 0 002.096 2.106C4.542 20.5 12 20.5 12 20.5s7.458 0 9.402-.58a2.974 2.974 0 002.096-2.106A31.533 31.533 0 0024 12a31.533 31.533 0 00-.502-5.814zM9.75 15.568V8.432L15.818 12 9.75 15.568z"/></svg>
      </a>
      <a class="site" href="https://sistemaparaiso.com.br" target="_blank" aria-label="Site">
        <!-- Site Icon -->
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 17.93V20h-2v-.07A8.001 8.001 0 014.07 13H4v-2h.07A8.001 8.001 0 0111 4.07V4h2v.07A8.001 8.001 0 0119.93 11H20v2h-.07A8.001 8.001 0 0113 19.93z"/></svg>
      </a>
    </div>

    <footer>¬© 2025 Para√≠so FM 101,1 - Todos os direitos reservados</footer>
  </div>

  <audio id="player" crossorigin="anonymous">
    <source src="https://stm28.xcast.com.br:11582/stream" type="audio/mpeg">
    Seu navegador n√£o suporta o player de √°udio.
  </audio>

  <script>
    const player = document.getElementById("player");
    const playPause = document.getElementById("playPause");
    const statusText = document.getElementById("status");
    const volumeControl = document.getElementById("volumeControl");
    const programacaoEl = document.getElementById("programacao");

    // Grade com dias da semana (0=Domingo, 1=Segunda, ..., 6=S√°bado)
    const grade = [
      // SEGUNDA A SEXTA
      { dias: [1,2,3,4,5], inicio: "04:00", fim: "06:00", programa: "De Olho na Cidade" },
      { dias: [1,2,3,4,5], inicio: "06:00", fim: "08:00", programa: "Chama a Para√≠so" },
      { dias: [1,2,3,4,5], inicio: "08:00", fim: "09:00", programa: "Variedades" },
      { dias: [1,2,3,4,5], inicio: "09:00", fim: "11:00", programa: "Esta√ß√£o 101" },
      { dias: [1,2,3,4,5], inicio: "11:00", fim: "13:00", programa: "Hora da Not√≠cia" },
      { dias: [1,2,3,4,5], inicio: "13:00", fim: "15:00", programa: "Tribuna & Plen√°rio" },
      { dias: [1,2,3,4,5], inicio: "15:00", fim: "17:00", programa: "Forronejo" },
      { dias: [1,2,3,4,5], inicio: "17:00", fim: "19:00", programa: "Sucessos & Saudades" },
      { dias: [1,2,3,4,5], inicio: "19:00", fim: "20:00", programa: "A voz do Brasil" },
      { dias: [1,2,3,4,5], inicio: "20:00", fim: "22:00", programa: "Di√°rio Policial" },
      { dias: [1,2,3,4,5], inicio: "22:00", fim: "23:30", programa: "Plant√£o Alerta" },
      { dias: [1,2,3,4,5], inicio: "23:30", fim: "1:00", programa: "Para√≠so By Night" },
      { dias: [1,2,3,4,5], inicio: "1:00", fim: "2:00", programa: "Novo Tempo" },
      { dias: [1,2,3,4,5], inicio: "2:00", fim: "4:00", programa: "Madrugada 101" },

      // S√ÅBADO
      { dias: [6], inicio: "06:00", fim: "09:00", programa: "Manh√£ Sertaneja" },
      { dias: [6], inicio: "09:00", fim: "12:00", programa: "Top Hits Para√≠so" },
      { dias: [6], inicio: "12:00", fim: "15:00", programa: "S√°bado Esportivo" },
      { dias: [6], inicio: "15:00", fim: "18:00", programa: "Especial Forr√≥ das Antigas" },

      // DOMINGO
      { dias: [0], inicio: "06:00", fim: "09:00", programa: "Domingo de F√©" },
      { dias: [0], inicio: "09:00", fim: "12:00", programa: "Parad√£o Para√≠so" },
      { dias: [0], inicio: "12:00", fim: "15:00", programa: "Tarde de Sucessos" },
      { dias: [0], inicio: "15:00", fim: "18:00", programa: "Especial Samba & Pagode" }
    ];

    // Status do player
    player.onplaying = () => {
      statusText.textContent = "‚ñ∂Ô∏è Ao vivo";
      gtag('event', 'play', { 'event_category': 'Player', 'event_label': 'Ao vivo' });
    };
    player.onpause = () => {
      statusText.textContent = "‚è∏Ô∏è Pausado";
      gtag('event', 'pause', { 'event_category': 'Player', 'event_label': 'Ao vivo' });
    };
    player.onwaiting = () => statusText.textContent = "‚è≥ Conectando...";
    player.onerror = () => statusText.textContent = "‚ö†Ô∏è Erro na transmiss√£o";

    playPause.addEventListener("click", () => {
      if (player.paused) {
        player.play().catch(()=>{ statusText.textContent = "‚ñ∂Ô∏è Toque bloqueado pelo navegador"; });
        playPause.textContent = "‚è∏Ô∏è";
      } else {
        player.pause();
        playPause.textContent = "‚ñ∂Ô∏è";
      }
    });

    volumeControl.addEventListener("input", (e) => {
      player.volume = e.target.value;
      gtag('event', 'volume_change', { 'event_category': 'Player', 'event_label': 'Volume', 'value': e.target.value });
    });

    function horaEntre(hora, inicio, fim) {
      return (inicio <= fim) ? (hora >= inicio && hora < fim) : (hora >= inicio || hora < fim);
    }

    function atualizarProgramacao() {
      const agora = new Date();
      const diaSemana = agora.getDay(); // 0=Dom, 1=Seg, ..., 6=S√°b
      const horaAtual = agora.getHours().toString().padStart(2,"0") + ":" +
                        agora.getMinutes().toString().padStart(2,"0");

      const programaAtual = grade.find(p => p.dias.includes(diaSemana) && horaEntre(horaAtual, p.inicio, p.fim));

      programacaoEl.textContent = programaAtual 
        ? `üéôÔ∏è Programa atual: ${programaAtual.programa} (${programaAtual.inicio}-${programaAtual.fim})`
        : "üéôÔ∏è Programa atual: Fora do ar";
    }

    atualizarProgramacao();
    setInterval(atualizarProgramacao, 60_000);

    // ================= CARROSSEL DE NOT√çCIAS CORRIGIDO =================
    class CarrosselNoticias {
      constructor() {
        // URL CORRIGIDA - usando a sua URL do Google Sheets
        this.sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSwXtYyj6SoIq-YJiID4-CRGsL8yiJQhYSgLUjXympNQB92yDo52evawpFLQYSwG6J9P3XjWcfa7lSm/pub?output=csv';
        this.carrossel = document.getElementById('carrossel');
        this.indicadores = document.getElementById('indicadores');
        this.slides = [];
        this.slideAtual = 0;
        this.autoPlayInterval = null;
        
        this.inicializar();
      }
      
      async carregarNoticias() {
        try {
          console.log('üöÄ Iniciando carregamento de not√≠cias...');
          
          // Tenta carregar do Google Sheets
          const sucesso = await this.carregarDoGoogleSheets();
          
          if (!sucesso) {
            console.log('üìù Usando dados de exemplo...');
            this.usarDadosExemplo();
          }
          
          this.renderizarCarrossel();
          this.inicializarEventos();
          
        } catch (error) {
          console.error('‚ùå Erro cr√≠tico:', error);
          this.mostrarErro('Erro ao carregar not√≠cias. Usando dados de exemplo.');
          this.usarDadosExemplo();
          this.renderizarCarrossel();
          this.inicializarEventos();
        }
      }
      
      async carregarDoGoogleSheets() {
        try {
          this.mostrarCarregando('Conectando ao Google Sheets...');
          
          console.log('üì° Fazendo requisi√ß√£o para:', this.sheetURL);
          const response = await fetch(this.sheetURL);
          
          if (!response.ok) {
            throw new Error(`Erro HTTP! status: ${response.status}`);
          }
          
          const csvData = await response.text();
          console.log('‚úÖ Dados recebidos. Tamanho:', csvData.length, 'caracteres');
          console.log('üìÑ Primeiros 500 caracteres:', csvData.substring(0, 500));
          
          if (!csvData || csvData.trim().length === 0) {
            throw new Error('Planilha vazia ou sem dados');
          }
          
          // Processar CSV - m√©todo simplificado
          const linhas = csvData.split('\n').filter(linha => linha.trim().length > 0);
          console.log('üìä Total de linhas:', linhas.length);
          
          if (linhas.length <= 1) {
            throw new Error('Apenas cabe√ßalho encontrado - sem dados');
          }
          
          // Processar linhas de dados
          this.slides = [];
          const cabecalho = linhas[0].split(',').map(col => col.trim().toLowerCase());
          console.log('üè∑Ô∏è Cabe√ßalho:', cabecalho);
          
          for (let i = 1; i < linhas.length; i++) {
            const linha = linhas[i].trim();
            if (!linha) continue;
            
            // M√©todo simples de split por v√≠rgula
            const colunas = linha.split(',').map(col => col.trim().replace(/^"|"$/g, ''));
            
            // Mapear colunas baseado no cabe√ßalho
            const noticia = {};
            
            if (colunas.length > 0) noticia.titulo = colunas[0] || 'Sem t√≠tulo';
            if (colunas.length > 1) noticia.descricao = colunas[1] || 'Sem descri√ß√£o';
            if (colunas.length > 2) noticia.imagem = colunas[2] || '';
            if (colunas.length > 3) noticia.link = colunas[3] || '';
            if (colunas.length > 4) noticia.data = colunas[4] || '';
            
            // S√≥ adiciona se tiver pelo menos t√≠tulo
            if (noticia.titulo && noticia.titulo !== 'Sem t√≠tulo') {
              this.slides.push(noticia);
            }
          }
          
          console.log(`‚úÖ Carregadas ${this.slides.length} not√≠cias do Google Sheets`);
          console.log('üìã Not√≠cias carregadas:', this.slides);
          
          return this.slides.length > 0;
          
        } catch (error) {
          console.error('‚ùå Erro ao carregar do Google Sheets:', error);
          return false;
        }
      }
      
      usarDadosExemplo() {
        this.slides = [
          {
            titulo: "Para√≠so FM - Sua R√°dio em Sobral",
            descricao: "Acompanhe a programa√ß√£o completa da Para√≠so FM 101.1 - A r√°dio que toca o cora√ß√£o de Sobral",
            link: "https://sistemaparaiso.com.br",
            data: new Date().toLocaleDateString('pt-BR')
          },
          {
            titulo: "Not√≠cias Locais em Destaque",
            descricao: "Fique por dentro das principais not√≠cias de Sobral e regi√£o noroeste do Cear√°",
            link: "https://sistemaparaiso.com.br",
            data: new Date().toLocaleDateString('pt-BR')
          },
          {
            titulo: "Eventos da Semana na Regi√£o",
            descricao: "Confira a agenda completa de eventos culturais, esportivos e shows na regi√£o",
            link: "https://sistemaparaiso.com.br", 
            data: new Date().toLocaleDateString('pt-BR')
          }
        ];
      }
      
      mostrarCarregando(mensagem) {
        this.carrossel.innerHTML = `<div class="carregando">${mensagem}</div>`;
      }
      
      mostrarErro(mensagem) {
        this.carrossel.innerHTML = `<div class="erro">${mensagem}</div>`;
      }
      
      renderizarCarrossel() {
        if (this.slides.length === 0) {
          this.mostrarErro('Nenhuma not√≠cia dispon√≠vel no momento.');
          return;
        }
        
        console.log('üé® Renderizando carrossel com', this.slides.length, 'slides');
        
        this.carrossel.innerHTML = this.slides.map((slide, index) => `
          <div class="slide">
            <h3>${this.escapeHtml(slide.titulo)}</h3>
            <p>${this.escapeHtml(slide.descricao)}</p>
            ${slide.data ? `<small>Publicado em: ${this.escapeHtml(slide.data)}</small><br><br>` : ''}
            ${slide.link ? `<a href="${this.escapeHtml(slide.link)}" target="_blank">Ler mais</a>` : ''}
          </div>
        `).join('');
        
        this.indicadores.innerHTML = this.slides.map((_, index) => `
          <div class="indicador ${index === 0 ? 'ativo' : ''}" data-index="${index}"></div>
        `).join('');
        
        console.log('‚úÖ Carrossel renderizado com sucesso!');
      }
      
      escapeHtml(text) {
        if (!text) return '';
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }
      
      inicializarEventos() {
        // Limpar eventos anteriores
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        
        prevBtn.onclick = null;
        nextBtn.onclick = null;
        
        prevBtn.addEventListener('click', () => this.mudarSlide(-1));
        nextBtn.addEventListener('click', () => this.mudarSlide(1));
        
        // Atualizar eventos dos indicadores
        this.indicadores.querySelectorAll('.indicador').forEach(indicador => {
          indicador.onclick = null;
          indicador.addEventListener('click', (e) => {
            const index = parseInt(e.target.getAttribute('data-index'));
            this.irParaSlide(index);
          });
        });
        
        this.iniciarAutoPlay();
      }
      
      mudarSlide(direcao) {
        if (this.slides.length <= 1) return;
        
        this.slideAtual += direcao;
        
        if (this.slideAtual < 0) {
          this.slideAtual = this.slides.length - 1;
        } else if (this.slideAtual >= this.slides.length) {
          this.slideAtual = 0;
        }
        
        this.atualizarCarrossel();
      }
      
      irParaSlide(index) {
        if (index >= 0 && index < this.slides.length) {
          this.slideAtual = index;
          this.atualizarCarrossel();
        }
      }
      
      atualizarCarrossel() {
        const translateX = -this.slideAtual * 100;
        this.carrossel.style.transform = `translateX(${translateX}%)`;
        
        this.indicadores.querySelectorAll('.indicador').forEach((indicador, index) => {
          indicador.classList.toggle('ativo', index === this.slideAtual);
        });
      }
      
      iniciarAutoPlay() {
        // Limpar intervalo anterior
        if (this.autoPlayInterval) {
          clearInterval(this.autoPlayInterval);
        }
        
        // S√≥ inicia auto-play se tiver mais de 1 slide
        if (this.slides.length > 1) {
          this.autoPlayInterval = setInterval(() => {
            this.mudarSlide(1);
          }, 5000);
        }
      }
      
      inicializar() {
        this.carregarNoticias();
      }
    }

    // Inicializar o carrossel quando a p√°gina carregar
    document.addEventListener('DOMContentLoaded', () => {
      console.log('üéØ Inicializando carrossel de not√≠cias...');
      new CarrosselNoticias();
    });
  </script>
</body>
</html>
